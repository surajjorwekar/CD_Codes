({initialize:function(){if(!Function.prototype.bind)Function.prototype.bind=function(a){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),b=this,c=function(){},i=function(){return b.apply(this instanceof c&&a?this:a,e.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;i.prototype=new c;return i};this.on=function(a,c,b){a.addEventListener?a.addEventListener(c,
b,!1):a.attachEvent(c,b)};this.loadScript=function(a,c){var b=document.createElement("script");b.src=a;b.type="text/javascript";b.async=!0;var h=document.getElementsByTagName("head")[0].appendChild(b),b=!window.addEventListener?"onreadystatechange":"load";if(typeof c==="function")this.on(h,b,function(a){var b=/complete|loaded/;(a.type=="load"||b.test(h.readyState))&&c()}.bind(this))};try{this.insideKCFrame=window.self!==window.top&&typeof window.top.kc!=="undefined"}catch(a){this.insideKCFrame=void 0}var c=
this.startup.bind(this);window.addEventListener?window.addEventListener("load",c,!1):window.attachEvent("onload",c)},startup:function(){try{this.addPublicFunctions(),this._getMeta("KC.content.links")!=="preserve"&&window.addEventListener&&this.fixLinks()}catch(a){console.error("Error initializing the global topic code.")}},addPublicFunctions:function(){if(this.insideKCFrame)window.kc=window.kc||{},window.kc.resize=function(){try{var a=window.top,c=a.dojo.query(".topicIFrameContainer");a.dijit.byNode(c[0])._onIFrameResize()}catch(d){console.error("Cannot resize the content window.")}}},
fixLinks:function(){if(this.insideKCFrame){var a=document.getElementsByTagName("a"),c=document.getElementsByTagName("area"),d=a;if(c&&c.length>0)if(!a||a.length==0)d=c;else{for(var d=[],e=a.length;e--;d.push(a[e]));for(e=c.length;e--;d.push(c[e]));}if(d&&d.length!=0){var c="en",a=window.location.href,e=/\/api\/content\/nl\/([A-Za-z0-9_\-]*)\//,b=a.match(e);b&&b[1]&&(c=b[1]);var a=a.replace(e,"/"),b=/[^\/]*$/,e=a.match(b)[0]||"",a=a.replace(b,""),h=(b=window.top.kc.state.KCState.getInstance())&&b.browserState&&
b.browserState.model&&b.browserState.model.contextPath;h&&h.indexOf("/")>-1&&(h=this._cpPattern.exec(h)[1]);for(var b=0,i=d.length;b<i;b++){var g=d[b];if(g.href){var f=this._decodeHref(g.getAttribute("href"));if(this._isLocalHref(f)){g.kcContentHref=g.href;var j=f.indexOf("#");if(j>=0){var k="#"+this._encodeHref(f.slice(j+1,f.length)),f=f.slice(0,j);j==0&&(f=e+f);f.indexOf("?")==-1?g.setAttribute("href",this._buildHref(f,c,h)+k):g.setAttribute("href",this._encodeHref(f)+k)}else f.indexOf("?")==-1&&
g.setAttribute("href",this._buildHref(f,c,h))}}}c=document.getElementsByTagName("head")[0];e=document.createElement("base");e.href=a;c.appendChild(e);for(var l=function(a){a=a||window.event;if(this.kcContentHref&&!a.shiftKey&&!a.ctrlKey)this.href=this.kcContentHref},b=0,i=d.length;b<i;b++)g=d[b],a=g.onclick,typeof a==="function"?function(a){g.onclick=function(b){l(b);a.apply(this,arguments)}}(a):g.onclick=l}}},_getMeta:function(a){for(var c=document.getElementsByTagName("meta"),d=0;d<c.length;d++){var e=
c[d];if(e.getAttribute("name")===a)return e.getAttribute("content")}},_externalHrefPattern:/(f|ht)tps?:\/\//i,_cpPattern:/(.*)\//,_isLocalHref:function(a){if(!a)return!1;return a.search(this._externalHrefPattern)==-1},_decodeHref:function(a){if(!a)return a;return a.replace(/%23/g,"#").replace(/%26/g,"&").replace(/%3F/g,"?")},_encodeHref:function(a){if(!a)return a;return a.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\?/g,"%3F")},_buildHref:function(a,c,d){a=this._encodeHref(a)+"?lang="+c;d&&(a+=
"&cp="+d);return a}}).initialize();
